<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <meta http-equiv="CONTENT-TYPE" content="text/html; charset=UTF-8">
  <title>glideinWMS</title>
  <link rel="stylesheet" type="text/css" href="../common/glideinWMS.css" media="screen, projection" />
</head>

<body lang="en-US" dir="ltr">
    <h1>
        <a href="index.html">GlideinWMS</a>
	<span>The Glidein-based Workflow Management System</span>
    </h1>
    <ul class="breadcrumbs">
        <li><a href="../index.html">Home</a></li>
        <li><a href="./index.html">Components</a></li>
        <li>Prerequisites</li>
    </ul>
    <div class="clear" />
    <div class="leftmenu">
        <ul class="components">
	        <li> <a href="../index.html">Home</a></li>
	        <li> <a href="../download.html">Download</a></li>
	        <li> <a href="../frontend/index.html">Glidein Frontend</a></li>
            <li> <a href="../corral.html">Corral Frontend</a></li>
	        <li> <a href="../factory/index.html">WMS Factory</a></li>
	        <li> <a href="../components/index.html" >Components</a></li>
	        <li> <a href="../components/faq.html" class="last">FAQ</a></li>
        </ul>
        <div class="search">
            <div id="cse-search-form" style="width: 100%;">Loading</div>
            <script src="http://www.google.com/jsapi" type="text/javascript"></script>
            <script src="../common/glidein.js" type="text/javascript"></script>
            <script type="text/javascript">
            google.load('search', '1', {language : 'en', style : google.loader.themes.MINIMALIST});
            google.setOnLoadCallback(onLoad);
            </script>
        </div>
    </div>
    <div id="searchcontent"><h2>Search Results</h2><div id="cse"></div> </div>
<div class="content">
    <div class="heading">
    <h2>Components</h2>
	<ul class="subcomponents">
	     <li> <a href="./index.html">Overview</a></li>
	     <li> Prerequisites</li>
	     <li> <a href="./collector_install.html">User Collector</a></li>
	     <li> <a href="./pool_install.html">User Schedd</a></li>
         <li> <a href="./gsi.html">GSI</a></li>
	     <li class="last"> <a href="./condor.html">Condor</a></li>
	</ul>
        <h3>Prerequisite Component Installation</h3>
	</div>
<div class="jump">
<u>Jump to:</u>
<ol>
    <li><a href="#system_httpd">HTTPD Server</a></li>
    <li><a href="#system_vdt">OSG VDT Client</a></li>
    <li><a href="#system_rrdtool">RRDTool</a></li>
    <li><a href="#system_m2crypto">M2Crypto</a></li>
    <li><a href="#system_javascriptRRD">javascriptRRD</a></li>
</ol>
</div>
<div class="related">
<u><b>Installation Procedure</b></u><br><br>

Preceded by: <a href="../install.html">Installation Overview</a><br>
Followed by: <a href="../factory/install.html">Factory Install</a><br>
<br/>
Install as: various daemon users or as system rpms/packages

</div>
<div class="section">

<h2 class="header">Installation of the WMS Components with the Installer</h2>
    <p>        
    Before you begin make sure the following software is either installed or available for installation.
    </p>
    <table class="requirements">
        <tbody><tr class="head">
            <td>Software</td>
            <td>Version</td>

            <td>WMS collector</td>
            <td>Factory</td>
            <td>User collector</td>
            <td>Submit</td>
            <td>Glidein Frontend</td>
            <td>Comments</td>

        </tr>
        <tr>
            <td> glideinWMS </td>
            <td> v2.4 </td>
            <td class="checked"> y </td>
            <td class="checked"> y </td>

            <td class="checked"> y </td>
            <td class="checked"> y </td>
            <td class="checked"> y </td>
            <td> &nbsp; </td>
        </tr>

        <tr>
            <td> Condor </td>
            <td> v7.2.+ </td>
            <td class="checked"> y </td>
            <td> &nbsp; </td>

            <td class="checked"> y </td>
            <td class="checked"> y </td>
            <td class="checked"> y </td>
            <td> SL3 x86 binaries should work everywhere. <br>For x86_64 OSG, you need to install 32 bit compatibility libraries. It is HIGHLY recommended that the SL3 x86 binaries be used. </td>

        </tr>

        <tr>
            <td> OSG client </td>
            <td> current version </td>
            <td class="checked"> y </td>

            <td class="checked"> &nbsp; </td>
            <td class="checked"> y </td>
            <td class="checked"> y </td>
            <td class="checked"> y </td>
            <td> Needed to generate grid/voms proxies. </td>

        </tr>
        <tr>
            <td> Python </td>
            <td> v2.3.4+ </td>
            <td class="checked"> y </td>
            <td class="checked"> y </td>

            <td class="checked"> y </td>
            <td class="checked"> y </td>
            <td class="checked"> y </td>
            <td> &nbsp; </td>
        </tr>

        <tr>
            <td> HTTP server </td>
            <td> latest version </td>
            <td> &nbsp; </td>
            <td class="checked"> y </td>

            <td> &nbsp; </td>
            <td> &nbsp; </td>
            <td class="checked"> y </td>
            <td> Apache, TUX or server of choice. </td>
        </tr>

        <tr>
            <td> RRDTool </td>
            <td> V1.1.18+ </td>
            <td> &nbsp; </td>
            <td class="checked"> y </td>

            <td> &nbsp; </td>
            <td> &nbsp; </td>
            <td class="checked"> y </td>
            <td> 
                    <a target="_blank" href="http://dag.wieers.com/rpm/packages/rrdtool/rrdtool-1.2.18-1.el4.rf.i386.rpm" target="_top">http://dag.wieers.com/rpm/packages/rrdtool/rrdtool-1.2.18-1.el4.rf.i386.rpm</a> <br>http://dag.wieers.com/rpm/packages/rrdtool/perl-rrdtool-1.2.18-1.el4.rf.i386.rpm <br>http://dag.wieers.com/rpm/packages/rrdtool/python-rrdtool-1.2.18-1.el4.rf.i386.rpm 
            </td>

        </tr>
        <tr>
            <td> M2Crypto </td>
            <td> v0.17+ </td>
            <td> &nbsp; </td>
            <td class="checked"> y </td>

            <td> &nbsp; </td>
            <td> &nbsp; </td>
            <td> y </td>
            <td> This can be installed using yum, if available. Or via a tarball from <a target="_blank" href="http://chandlerproject.org/Projects/MeTooCrypto#Downloads" target="_top">http://chandlerproject.org/Projects/MeTooCrypto#Downloads</a> </td>

        </tr>
        <tr>
            <td> javascriptRRD with Flot</td>
            <td> v0.5.0 </td>
            <td> &nbsp; </td>

            <td class="checked"> y </td>
            <td> &nbsp; </td>
            <td> &nbsp; </td>
            <td class="checked"> y </td>
            <td> <a target="_blank" href="http://sourceforge.net/projects/javascriptrrd/files/javascriptrrd/" target="_top">http://sourceforge.net/projects/javascriptrrd/files/javascriptrrd/</a> <br><b>Note:</b> JavascriptRRD and flot, are available from different sources however they may not always work when installed for glideinWMS. We only support JavascriptRRD with Flot available from the sourceforge link above</td>

        </tr>
    </tbody></table>

<div class="section">
    <h2><a name="system_httpd">1. HTTP server</a></h2>
    <p>
    You will need to install an HTTP server as part of glideinWMS.  This needs to be installed on a port accessible to the outside.  
    The web server is used for staging and monitoring.  In particular, the staging directory will need to be accessible 
    to glideins so they can download appropriate software.
    </p>
    <p> 
        The choice of web server is independent of glideinWMS, but this tutorial will only
        show the example of Apache Web Server.  For most systems, this can be installed via
        yum:
        <pre>
        yum install httpd </pre>
        Other options are available from 
        <a href="http://httpd.apache.org/download.cgi">http://httpd.apache.org/download.cgi</a>.
    </p> 
    <p>
        There are several recommended tasks you may want to 
        also do post-installation to secure and prepare your web server.
        <ul>
            <li>Disable all unneeded modules.  Glideinwms does not any
            non-standard modules and many can be disabled.
            A list of example modules to keep enabled is below:
            <tt>'access_module','include_module','log_config_module',
                    'mime_magic_module','expires_module','deflate_module',
                    'headers_module','setenvif_module','mime_module',
                    'status_module','autoindex_module','negotiation_module',
                    'dir_module','imap_module','alias_module','rewrite_module',
                    'cache_module','file_cache_module','mem_cache_module',
                    'authz_host_module','authz_default_module'</tt>.
            </li>
            <li>Disable any (unneeded) extensions in /etc/httpd/conf.d </li>
        </ul>
    </p>
</div>


<div class="section">
    <h2><a name="system_vdt">2. OSG VDT Client</a></h2>
    <p>
        The OSG Client is now available as a set of RPMs.  To install
        the OSG Client, you will need to enable the EPEL and OSG
        repositories.  It is also advisable to enable the yum priorities
        module in order to guarantee the correct packages.
        The following commands will enable the repositories:
        <pre>
        rpm -Uvh http://download.fedora.redhat.com/pub/epel/5/i386/epel-release-5-4.noarch.rpm
        yum install yum-priorities
        rpm -Uvh http://repo.grid.iu.edu/osg-release-latest.rpm </pre>
        Next, you can install osg client:
        <pre> yum install osg-client </pre>
        You may also want to enable the fetch-crl service
        to keep your certificate revocation lists up to date:
        <pre>
        fetch-crl
        /sbin/service fetch-crl-boot start
        /sbin/service fetch-crl-cron start
        /sbin/chkconfig fetch-crl-boot on
        /sbin/chkconfig fetch-crl-cron on </pre>
    </p>
</div>


<div class="section">

    <h3><a name="system_rrdtool">3. RRDTool</a></h3>
    <p>
        You will also need the python module for <a target="_blank" href="http://oss.oetiker.ch/rrdtool/">RRDTool</a> (v1.2.18 or later). Many 
        systems come with packages for it; if possible use that.
    </p>

    <p>
        RPMs for Redhat/Scientific Linux distributions can be found at 
        <a target="_blank" href="http://dag.wieers.com/rpm/packages/rrdtool/">http://dag.wieers.com/rpm/packages/rrdtool/</a>
        <br/>
        However, if you have the OSG repositories enabled, you can install it via yum:
        <pre> yum install rrdtool rrdtool-python </pre>
    </p>

    <p>
        If installing as root is not an option, you can build from the sources, as the <b>glidein factory</b>

        user, and put the python libraries into the PYTHON_PATH.<br>
        The source code can be downloaded from: <a target="_blank" href="http://oss.oetiker.ch/rrdtool/pub/">http://oss.oetiker.ch/rrdtool/pub/</a>
        Beware: The build process has several dependencies that make it complicated. Use this option only if you cannot install from RPMs 
        (or similar). 
    </p>
</div>

<div class="section">

    <h3><a name="system_m2crypto">4. M2Crypto</a></h3>

    <p>
        You will need the <a target="_blank" href="http://freshmeat.net/projects/m2crypto">M2Crypto python library</a>. 
        However, if you have the OSG repositories enabled, you can install it via yum:
        <pre> yum install m2crypto </pre>
    </p>

    <p>

        If your system does not come with m2crypto package, or you do not can/want install it as root, compile it from source as 
        the <b>glidein factory</b> user.<br>  The source code can be downloaded from:  
        <a target="_blank" href="http://chandlerproject.org/Projects/MeTooCrypto#Downloads">http://chandlerproject.org/Projects/MeTooCrypto#Downloads</a>
    </p>

    <p>The build process is very easy:</p>

    <blockquote>

        python setup.py build<br>
        python setup.py install --root <i>&lt;base dir&gt;</i>
    </blockquote>

    <p>
        Finally add M2Crypto site-packages into the PYTHONPATH, possibly in the .profile, .bashrc and/or in the .cshrc.<br>
        The exact path is system specific. On a 32bit system with python 2.3.x it will look like this:
    </p>

    <blockquote>export PYTHONPATH=$PYTHONPATH:<i>&lt;base dir&gt;</i>/usr/lib/python2.3/site-packages/</blockquote>
    <br>
</div>


<div class="section">

    <h3><a name="system_javascriptRRD">5. javascriptRRD</a></h3>

    <p>
        You will need the <a target="_blank" href="http://sourceforge.net/projects/javascriptrrd/">javascriptRRD package</a>.  It contains the 
        javascript libraries needed by the monitoring.  
        If you enabled the OSG repositories (above),
        you can install it via yum:
    </p>
    <pre> yum install javascriptrrd </pre>
    <p>
        Otherwise, download the tarball (with flot), and untar it.  You will need to 
        point the installer to this directory.
    </p>

</div>
<div class="footer">
Banner image by
<a href="http://www.flickr.com/people/leafwarbler/">Madhusudan Katti</a>
used under Creative Commons license.<br>
Original Home URL: <a href="http://www.uscms.org/SoftwareComputing/Grid/WMS/glid%0AeinWMS">http://www.uscms.org/SoftwareComputing/Grid/WMS/glideinWMS</a>.
glideinWMS email support: glideinwms-support at fnal.gov
</div>
</div>
</body>
</html>
